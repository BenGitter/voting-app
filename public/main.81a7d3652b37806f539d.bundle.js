webpackJsonp([1,4],{"/fcW":function(n,l){function e(n){throw new Error("Cannot find module '"+n+"'.")}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="/fcW"},0:function(n,l,e){n.exports=e("x35b")},"1A80":function(n,l,e){"use strict";function t(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"app-navbar",[],null,null,null,r.a,r.b)),i["ɵdid"](57344,null,0,a.a,[s.a,c.j,d.FlashMessagesService],null,null),(n()(),i["ɵted"](null,["\n"])),(n()(),i["ɵeld"](0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](0,null,null,1,"flash-messages",[],null,null,null,p.a,p.b)),i["ɵdid"](57344,null,0,_.FlashMessagesComponent,[d.FlashMessagesService,i.ChangeDetectorRef],null,null),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](8388608,null,null,1,"router-outlet",[],null,null,null,null,null)),i["ɵdid"](73728,null,0,c.y,[c.l,i.ViewContainerRef,i.ComponentFactoryResolver,[8,null]],null,null),(n()(),i["ɵted"](null,["\n"]))],function(n,l){n(l,1,0),n(l,6,0)},null)}function u(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"app-root",[],null,null,null,t,g)),i["ɵdid"](24576,null,0,f.a,[],null,null)],null,null)}var o=e("Ni5f"),i=e("3j3K"),r=e("fgrr"),a=e("AG92"),s=e("7fwu"),c=e("5oXY"),d=e("k36z"),p=(e.n(d),e("IpZT")),_=e("w0IC"),f=(e.n(_),e("YWx4"));e.d(l,"a",function(){return v});var h=[o.a],g=i["ɵcrt"]({encapsulation:0,styles:h,data:{}}),v=i["ɵccf"]("app-root",f.a,u,{},{},[])},"601y":function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[".navbar.navbar-default[_ngcontent-%COMP%]{border-radius:0}"]},"7+MT":function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=['.poll[_ngcontent-%COMP%]{margin:10px 5px;padding:5px 10px;text-align:center;border:1px solid #ddd;border-radius:2px;background:#fafafa}.poll[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:60px;cursor:pointer}.poll[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding:5px;padding-bottom:10px;height:35px}.result[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]{margin-top:5px;width:calc(100% - 100px);float:left;overflow:hidden;height:20px}.result[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{width:100px;float:right}.material-icons[_ngcontent-%COMP%]{float:right;padding:5px;cursor:pointer}.material-icons.link[_ngcontent-%COMP%]:hover{color:#c87f0a}.material-icons.delete[_ngcontent-%COMP%]:hover{color:#d62c1a}input[_ngcontent-%COMP%]{position:fixed;width:0;opacity:0}.copied[_ngcontent-%COMP%]{color:#c87f0a}.copied[_ngcontent-%COMP%]:after{content:"COPIED!";background:#000;color:#fff;font-size:12px;position:absolute;top:60px;right:55px;padding:5px 6px 7px;border-radius:2px;-webkit-animation:hide .5s forwards;animation:hide .5s forwards;-webkit-animation-delay:1s;animation-delay:1s}@-webkit-keyframes hide{to{opacity:0}}@keyframes hide{to{opacity:0}}']},"7fwu":function(n,l,e){"use strict";var t=e("Fzro"),u=e("2vVT"),o=(e.n(u),e("+pb+"));e.n(o);e.d(l,"a",function(){return i});var i=function(){function n(n){this.http=n,this.loggedIn()&&this.loadUserData()}return n.prototype.registerUser=function(n){var l=new t.Headers;return l.append("Content-Type","application/json"),this.http.post("/users/register",n,{headers:l}).map(function(n){return n.json()})},n.prototype.authenticateUser=function(n){var l=new t.Headers;return l.append("Content-Type","application/json"),this.http.post("/users/authenticate",n,{headers:l}).map(function(n){return n.json()})},n.prototype.getProfile=function(){this.loadToken();var n=new t.Headers;return n.append("Content-Type","application/json"),n.append("Authorization",this.authToken),this.http.get("/users/profile",{headers:n}).map(function(n){return n.json()})},n.prototype.loadToken=function(){var n=localStorage.getItem("id_token");this.authToken=n},n.prototype.loggedIn=function(){return e.i(u.tokenNotExpired)("id_token")},n.prototype.storeUserData=function(n,l){localStorage.setItem("id_token",n),localStorage.setItem("user",JSON.stringify(l)),this.authToken=n,this.user=l},n.prototype.loadUserData=function(){this.user=JSON.parse(localStorage.getItem("user"))},n.prototype.logout=function(){this.authToken=null,this.user=null,localStorage.clear()},n.ctorParameters=function(){return[{type:t.Http}]},n}()},AG92:function(n,l,e){"use strict";var t=e("5oXY"),u=e("7fwu"),o=e("c8k3");e.n(o);e.d(l,"a",function(){return i});var i=function(){function n(n,l,e){this.authService=n,this.router=l,this.flashMessage=e}return n.prototype.ngOnInit=function(){},n.prototype.onLogoutClick=function(){return this.authService.logout(),this.flashMessage.show("You are logged out",{cssClass:"alert-success",timeout:3e3}),this.router.navigate(["/login"]),!1},n.ctorParameters=function(){return[{type:u.a},{type:t.j},{type:o.FlashMessagesService}]},n}()},Eplh:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.validateRegister=function(n){return void 0!=n.name&&void 0!=n.username&&void 0!=n.email&&void 0!=n.password},n.prototype.validateEmail=function(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)},n.ctorParameters=function(){return[]},n}()},Evht:function(n,l,e){"use strict";var t=e("5oXY"),u=e("7fwu");e.d(l,"a",function(){return o});var o=function(){function n(n,l){this.authService=n,this.router=l}return n.prototype.canActivate=function(){return!!this.authService.loggedIn()||(this.router.navigate(["/login"]),!1)},n.ctorParameters=function(){return[{type:u.a},{type:t.j}]},n}()},HTw2:function(n,l,e){"use strict";function t(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,1,"canvas",[["baseChart",""],["width","100%"]],null,[[null,"chartHover"]],function(n,l,e){var t=!0,u=n.component;if("chartHover"===l){t=!1!==u.chartHovered(e)&&t}return t},null,null)),s["ɵdid"](368640,null,0,c.BaseChartDirective,[s.ElementRef],{data:[0,"data"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"]},{chartHover:"chartHover"})],function(n,l){var e=l.component;n(l,1,0,e.chartData,e.chartLabels,e.chartOptions,"doughnut")},null)}function u(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,1,"button",[["class","btn btn-option btn-warning"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.onVote(n.context.$implicit)&&t}return t},null,null)),(n()(),s["ɵted"](null,["",""]))],null,function(n,l){n(l,1,0,l.context.$implicit)})}function o(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,[["optionButton",1]],null,1,"button",[["class","btn btn-info btn-option"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.onAddOption(s["ɵnov"](n.parent,29),s["ɵnov"](n,0))&&t}return t},null,null)),(n()(),s["ɵted"](null,["Add option"]))],null,null)}function i(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,4,"div",[["class","header col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵeld"](0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["",""])),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵeld"](0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,24,"div",[["class","col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵeld"](0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵeld"](0,null,null,4,"div",[["class","col-xs-12 col-sm-6"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n        "])),(n()(),s["ɵand"](8388608,null,null,1,null,t)),s["ɵdid"](8192,null,0,d.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵted"](null,["\n\n      "])),(n()(),s["ɵeld"](0,null,null,4,"div",[["class","option-container col-xs-12 col-sm-6"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n        "])),(n()(),s["ɵand"](8388608,null,null,1,null,u)),s["ɵdid"](401408,null,0,d.NgForOf,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵted"](null,["\n\n      "])),(n()(),s["ɵeld"](0,null,null,6,"div",[["class","add-option-container col-xs-12 col-sm-6"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n        "])),(n()(),s["ɵeld"](0,[["optionInput",1]],null,0,"input",[["id","optionInput"],["type","text"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n        "])),(n()(),s["ɵand"](8388608,null,null,1,null,o)),s["ɵdid"](8192,null,0,d.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,18,0,e.poll),n(l,24,0,null==e.poll?null:e.poll.options),n(l,32,0,e.authService.loggedIn())},function(n,l){var e=l.component;n(l,5,0,null==e.poll?null:e.poll.name)})}function r(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,1,"app-poll",[],null,null,null,i,m)),s["ɵdid"](122880,null,0,p.a,[_.v,_.j,f.FlashMessagesService,h.a,g.a],null,null)],function(n,l){n(l,1,0)},null)}var a=e("qKaq"),s=e("3j3K"),c=e("GRaa"),d=(e.n(c),e("2Je8")),p=e("umaX"),_=e("5oXY"),f=e("k36z"),h=(e.n(f),e("ZHLX")),g=e("7fwu");e.d(l,"a",function(){return b});var v=[a.a],m=s["ɵcrt"]({encapsulation:0,styles:v,data:{}}),b=s["ɵccf"]("app-poll",p.a,r,{},{},[])},Iksp:function(n,l,e){"use strict";var t=e("Evht"),u=e("ZZ6M"),o=e("s6ZV"),i=e("ZrT/"),r=e("VxBC"),a=e("umaX"),s=e("QaYp");e.d(l,"a",function(){return c});var c=(i.a,o.a,u.a,r.a,t.a,a.a,s.a,i.a,function(){function n(){}return n}())},IpZT:function(n,l,e){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,0,"div",[["id","grayOutDiv"]],null,null,null,null,null))],null,null)}function u(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,4,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),r["ɵted"](null,["\n              "])),(n()(),r["ɵeld"](0,null,null,1,"p",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["",""])),(n()(),r["ɵted"](null,["\n          "]))],null,function(n,l){n(l,0,0,r["ɵinlineInterpolate"](1,"alert flash-message ",l.context.$implicit.cssClass,"")),n(l,3,0,l.context.$implicit.text)})}function o(n){return r["ɵvid"](0,[(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,7,"div",[["id","flashMessages"]],[[8,"className",0]],null,null,null,null)),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵand"](8388608,null,null,1,null,t)),r["ɵdid"](8192,null,0,a.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵand"](8388608,null,null,1,null,u)),r["ɵdid"](401408,null,0,a.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),r["ɵted"](null,[" \n      "])),(n()(),r["ɵted"](null,["\n  "]))],function(n,l){var e=l.component;n(l,4,0,e._grayOut&&e.messages.length),n(l,7,0,e.messages)},function(n,l){var e=l.component;n(l,1,0,r["ɵinlineInterpolate"](1,"flash-messages ",e.classes,""))})}function i(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"flash-messages",[],null,null,null,o,p)),r["ɵdid"](57344,null,0,s.FlashMessagesComponent,[c.FlashMessagesService,r.ChangeDetectorRef],null,null)],function(n,l){n(l,1,0)},null)}var r=e("3j3K"),a=e("2Je8"),s=e("w0IC"),c=(e.n(s),e("k36z"));e.n(c);e.d(l,"b",function(){return p}),l.a=o;var d=[],p=r["ɵcrt"]({encapsulation:2,styles:d,data:{}});r["ɵccf"]("flash-messages",s.FlashMessagesComponent,i,{},{},[])},LkmL:function(n,l,e){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,21,"div",[["class","result"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,1,"div",[["class","choice"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n        Top choice:    "," ("," %)\n      "])),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,15,"div",[["class","icons"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,1,"i",[["class","material-icons delete"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.onDeletePoll(e)&&t}return t},null,null)),(n()(),r["ɵted"](null,["delete_forever"])),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,2,"i",[["class","material-icons link"]],[[2,"copied",null]],[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==r["ɵnov"](n,11).onClick(e.target)&&t}if("click"===l){t=!1!=(u.isCopied=!0)&&t}return t},null,null)),r["ɵdid"](106496,null,0,a.a,[s.b,r.Renderer],{targetElm:[0,"targetElm"]},null),(n()(),r["ɵted"](null,["link"])),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,[["pollInput",1]],null,5,"input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==r["ɵnov"](n,15)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==r["ɵnov"](n,15).onTouched()&&t}if("compositionstart"===l){t=!1!==r["ɵnov"](n,15)._compositionStart()&&t}if("compositionend"===l){t=!1!==r["ɵnov"](n,15)._compositionEnd(e.target.value)&&t}if("ngModelChange"===l){t=!1!==(u.pollLink=e)&&t}return t},null,null)),r["ɵdid"](8192,null,0,c.h,[r.Renderer,r.ElementRef,[2,c.i]],null,null),r["ɵprd"](512,null,c.j,function(n){return[n]},[c.h]),r["ɵdid"](335872,null,0,c.k,[[8,null],[8,null],[8,null],[2,c.j]],{model:[0,"model"]},{update:"ngModelChange"}),r["ɵprd"](1024,null,c.l,null,[c.k]),r["ɵdid"](8192,null,0,c.m,[c.l],null,null),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵted"](null,["\n    "]))],function(n,l){var e=l.component;n(l,11,0,r["ɵnov"](l,14)),n(l,17,0,e.pollLink)},function(n,l){var e=l.component;n(l,3,0,e.popularChoice.option,e.popularChoice.percentage),n(l,10,0,e.isCopied),n(l,14,0,r["ɵnov"](l,19).ngClassUntouched,r["ɵnov"](l,19).ngClassTouched,r["ɵnov"](l,19).ngClassPristine,r["ɵnov"](l,19).ngClassDirty,r["ɵnov"](l,19).ngClassValid,r["ɵnov"](l,19).ngClassInvalid,r["ɵnov"](l,19).ngClassPending)})}function u(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,12,"div",[["class","col-xs-12 col-sm-6 col-md-4"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,9,"div",[["class","poll"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,3,"div",[["class","title btn-link"]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==r["ɵnov"](n,5).onClick()&&t}return t},null,null)),r["ɵdid"](8192,null,0,d.B,[d.j,d.v,[8,null],r.Renderer,r.ElementRef],{routerLink:[0,"routerLink"]},null),r["ɵpad"](2),(n()(),r["ɵted"](null,["\n      ","\n    "])),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵand"](8388608,null,null,1,null,t)),r["ɵdid"](8192,null,0,p.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,5,0,n(l,6,0,"/poll",e.poll._id)),n(l,10,0,e.showDetails)},function(n,l){n(l,7,0,l.component.poll.name)})}function o(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"app-poll-thumb",[],null,null,null,u,m)),r["ɵdid"](57344,null,0,_.a,[f.a,h.FlashMessagesService,g.c],null,null)],function(n,l){n(l,1,0)},null)}var i=e("7+MT"),r=e("3j3K"),a=e("yQLj"),s=e("1HDE"),c=e("NVOs"),d=e("5oXY"),p=e("2Je8"),_=e("llLf"),f=e("ZHLX"),h=e("k36z"),g=(e.n(h),e("Qbdm"));e.d(l,"b",function(){return m}),l.a=u;var v=[i.a],m=r["ɵcrt"]({encapsulation:0,styles:v,data:{}});r["ɵccf"]("app-poll-thumb",_.a,o,{poll:"poll",showDetails:"showDetails"},{},[])},Ni5f:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},QaYp:function(n,l,e){"use strict";var t=e("5oXY"),u=e("7fwu"),o=e("ZHLX"),i=e("c8k3");e.n(i);e.d(l,"a",function(){return r});var r=function(){function n(n,l,e,t){this.authService=n,this.flashMessage=l,this.pollService=e,this.router=t,this.options=["",""]}return n.prototype.ngOnInit=function(){},n.prototype.onFormSubmit=function(n){var l=this;if(n.preventDefault(),!n.target.elements[0].value)return this.flashMessage.show("Poll must have a title",{cssClass:"alert-danger",timeout:3e3}),!1;for(var e={name:n.target.elements[0].value,options:[],created_by:this.authService.user.username,votes:[]},t=1;t<n.target.elements.length-2;t++){var u=n.target.elements[t].value;u&&(e.options.push(u),e.votes.push([]))}if(e.options.length<2)return this.flashMessage.show("Poll must have at least 2 options",{cssClass:"alert-danger",timeout:3e3}),!1;this.pollService.postPoll(e).subscribe(function(n){n.success?(l.pollService.polls.unshift(n.poll),l.flashMessage.show("Poll added",{cssClass:"alert-success",timeout:3e3}),l.router.navigate(["/poll",n.poll._id])):l.flashMessage.show("An error occurred, please try again",{cssClass:"alert-danger",timeout:3e3})}),console.log(e)},n.prototype.onAddOption=function(){this.options.push("")},n.ctorParameters=function(){return[{type:u.a},{type:i.FlashMessagesService},{type:o.a},{type:t.j}]},n}()},S22J:function(n,l,e){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,0,"input",[["class","form-control"],["name","option"],["placeholder","Empty options will be ignored"],["type","text"]],null,null,null,null,null))],null,null)}function u(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,4,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["New poll"])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,29,"div",[["class","col-xs-12 col-sm-8 col-md-6"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,26,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0,u=n.component;if("submit"===l){t=!1!==r["ɵnov"](n,12).onSubmit(e)&&t}if("reset"===l){t=!1!==r["ɵnov"](n,12).onReset()&&t}if("submit"===l){t=!1!==u.onFormSubmit(e)&&t}return t},null,null)),r["ɵdid"](8192,null,0,s.d,[],null,null),r["ɵdid"](8192,null,0,s.e,[[8,null],[8,null]],null,null),r["ɵprd"](1024,null,s.f,null,[s.e]),r["ɵdid"](8192,null,0,s.g,[s.f],null,null),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,1,"label",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["Title"])),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,0,"input",[["class","form-control"],["name","title"],["placeholder","Choose a descriptive title"],["type","text"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,1,"label",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["Options"])),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵand"](8388608,null,null,1,null,t)),r["ɵdid"](401408,null,0,c.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,0,"input",[["class","btn btn-info"],["type","submit"],["value","Add poll"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,0,"input",[["class","btn btn-success"],["type","button"],["value","Add option"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.onAddOption()&&t}return t},null,null)),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](null,["\n"]))],function(n,l){n(l,30,0,l.component.options)},function(n,l){n(l,10,0,r["ɵnov"](l,14).ngClassUntouched,r["ɵnov"](l,14).ngClassTouched,r["ɵnov"](l,14).ngClassPristine,r["ɵnov"](l,14).ngClassDirty,r["ɵnov"](l,14).ngClassValid,r["ɵnov"](l,14).ngClassInvalid,r["ɵnov"](l,14).ngClassPending)})}function o(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"app-new-poll",[],null,null,null,u,g)),r["ɵdid"](57344,null,0,a.a,[d.a,p.FlashMessagesService,_.a,f.j],null,null)],function(n,l){n(l,1,0)},null)}var i=e("jJS9"),r=e("3j3K"),a=e("QaYp"),s=e("NVOs"),c=e("2Je8"),d=e("7fwu"),p=e("k36z"),_=(e.n(p),e("ZHLX")),f=e("5oXY");e.d(l,"a",function(){return v});var h=[i.a],g=r["ɵcrt"]({encapsulation:0,styles:h,data:{}}),v=r["ɵccf"]("app-new-poll",a.a,o,{},{},[])},TzDL:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=["h3[_ngcontent-%COMP%]{float:left}button[_ngcontent-%COMP%]{float:right;margin-top:15px;margin-right:5px}"]},UR5G:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},VxBC:function(n,l,e){"use strict";var t=e("ZHLX"),u=e("7fwu");e.d(l,"a",function(){return o});var o=function(){function n(n,l){this.pollService=n,this.authService=l}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:t.a},{type:u.a}]},n}()},YWx4:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){this.title="app works!"}return n}()},ZHLX:function(n,l,e){"use strict";var t=e("Fzro"),u=e("c8k3"),o=(e.n(u),e("+pb+")),i=(e.n(o),e("PvYY"));e.n(i);e.d(l,"a",function(){return r});var r=function(){function n(n,l){var e=this;this.http=n,this.flashMessage=l,this.pollsAvailable=!1,this.polls=[],this.pollPromise=this.getPolls().publishReplay().refCount(),this.pollPromise.subscribe(function(n){e.polls=n.polls,e.pollsAvailable=!0,console.log(e.polls)})}return n.prototype.deletePoll=function(n){var l=new t.Headers;return l.append("Content-Type","application/json"),this.http.delete("/api/poll/"+n,{headers:l}).map(function(n){return n.json()})},n.prototype.postPoll=function(n){var l=new t.Headers;return l.append("Content-Type","application/json"),this.http.post("/api/poll",n,{headers:l}).map(function(n){return n.json()})},n.prototype.getPolls=function(){var n=new t.Headers;return n.append("Content-Type","application/json"),this.http.get("/api/polls",{headers:n}).map(function(n){return n.json()})},n.prototype.addOption=function(n,l){var e=new t.Headers;return e.append("Content-Type","application/json"),this.http.post("/api/poll/option",{id:n,option:l},{headers:e}).map(function(n){return n.json()})},n.prototype.getPoll=function(n){var l=this;return new Promise(function(e,t){l.pollsAvailable?(l.polls.forEach(function(l,t){l._id==n&&e(l)}),t()):l.pollPromise.subscribe(function(l){l.polls.forEach(function(l,t){l._id==n&&e(l)}),t()})})},n.prototype.removePoll=function(n){this.polls=this.polls.filter(function(l,e){return l._id==n&&console.log("MATCH"),l._id!==n})},n.prototype.submitVote=function(n,l,e){var u=this,o=new t.Headers;o.append("Content-Type","application/json"),this.http.put("/api/poll",{id:n,option:l},{headers:o}).map(function(n){return n.json()}).subscribe(function(n){if("Already voted"==n.msg)return u.flashMessage.show("You already voted",{cssClass:"alert-warning",timeout:3e3}),!0;u.polls=n.polls,e()})},n.ctorParameters=function(){return[{type:t.Http},{type:u.FlashMessagesService}]},n}()},ZZ6M:function(n,l,e){"use strict";var t=e("5oXY"),u=e("7fwu"),o=e("c8k3");e.n(o);e.d(l,"a",function(){return i});var i=function(){function n(n,l,e){this.authService=n,this.router=l,this.flashMessage=e}return n.prototype.ngOnInit=function(){},n.prototype.onLoginSubmit=function(){var n=this,l={username:this.username,password:this.password};this.authService.authenticateUser(l).subscribe(function(l){console.log(l),l.success?(n.authService.storeUserData(l.token,l.user),n.flashMessage.show("You are now logged in",{cssClass:"alert-success",timeout:5e3}),n.router.navigate(["/"])):(n.flashMessage.show(l.msg,{cssClass:"alert-danger",timeout:5e3}),n.router.navigate(["/login"]))})},n.ctorParameters=function(){return[{type:u.a},{type:t.j},{type:o.FlashMessagesService}]},n}()},"ZrT/":function(n,l,e){"use strict";var t=e("ZHLX"),u=e("7fwu");e.d(l,"a",function(){return o});var o=function(){function n(n,l){this.pollService=n,this.authService=l}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:t.a},{type:u.a}]},n}()},fgrr:function(n,l,e){"use strict";function t(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,9,"li",[],null,null,null,null,null)),c["ɵdid"](860160,null,2,d.z,[d.j,c.ElementRef,c.Renderer,c.ChangeDetectorRef],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),c["ɵqud"](301989888,1,{links:1}),c["ɵqud"](301989888,2,{linksWithHrefs:1}),c["ɵpod"](["exact"]),c["ɵpad"](1),(n()(),c["ɵeld"](0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==c["ɵnov"](n,7).onClick(e.button,e.ctrlKey,e.metaKey)&&t}return t},null,null)),c["ɵdid"](335872,[[2,4]],0,d.A,[d.j,d.v,p.LocationStrategy],{routerLink:[0,"routerLink"]},null),c["ɵpad"](1),(n()(),c["ɵted"](null,["My Polls"]))],function(n,l){n(l,1,0,n(l,4,0,!0),n(l,5,0,"active")),n(l,7,0,n(l,8,0,"/mypolls"))},function(n,l){n(l,6,0,c["ɵnov"](l,7).target,c["ɵnov"](l,7).href)})}function u(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,9,"li",[],null,null,null,null,null)),c["ɵdid"](860160,null,2,d.z,[d.j,c.ElementRef,c.Renderer,c.ChangeDetectorRef],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),c["ɵqud"](301989888,3,{links:1}),c["ɵqud"](301989888,4,{linksWithHrefs:1}),c["ɵpod"](["exact"]),c["ɵpad"](1),(n()(),c["ɵeld"](0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==c["ɵnov"](n,7).onClick(e.button,e.ctrlKey,e.metaKey)&&t}return t},null,null)),c["ɵdid"](335872,[[4,4]],0,d.A,[d.j,d.v,p.LocationStrategy],{routerLink:[0,"routerLink"]},null),c["ɵpad"](1),(n()(),c["ɵted"](null,["Login"]))],function(n,l){n(l,1,0,n(l,4,0,!0),n(l,5,0,"active")),n(l,7,0,n(l,8,0,"/login"))},function(n,l){n(l,6,0,c["ɵnov"](l,7).target,c["ɵnov"](l,7).href)})}function o(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,2,"li",[],null,null,null,null,null)),(n()(),c["ɵeld"](0,null,null,1,"a",[["href","#"]],null,[[null,"click"]],function(n,l,e){var t=!0,u=n.component;if("click"===l){t=!1!==u.onLogoutClick()&&t}return t},null,null)),(n()(),c["ɵted"](null,["Logout"]))],null,null)}function i(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,9,"li",[],null,null,null,null,null)),c["ɵdid"](860160,null,2,d.z,[d.j,c.ElementRef,c.Renderer,c.ChangeDetectorRef],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),c["ɵqud"](301989888,5,{links:1}),c["ɵqud"](301989888,6,{linksWithHrefs:1}),c["ɵpod"](["exact"]),c["ɵpad"](1),(n()(),c["ɵeld"](0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==c["ɵnov"](n,7).onClick(e.button,e.ctrlKey,e.metaKey)&&t}return t},null,null)),c["ɵdid"](335872,[[6,4]],0,d.A,[d.j,d.v,p.LocationStrategy],{routerLink:[0,"routerLink"]},null),c["ɵpad"](1),(n()(),c["ɵted"](null,["Register"]))],function(n,l){n(l,1,0,n(l,4,0,!0),n(l,5,0,"active")),n(l,7,0,n(l,8,0,"/register"))},function(n,l){n(l,6,0,c["ɵnov"](l,7).target,c["ɵnov"](l,7).href)})}function r(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,42,"nav",[["class","navbar navbar-default"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵeld"](0,null,null,39,"div",[["class","container"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵeld"](0,null,null,18,"div",[["class","navbar-header"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,10,"button",[["aria-controls","navbar"],["aria-expanded","false"],["class","navbar-toggle collapsed"],["data-target","#navbar"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n        "])),(n()(),c["ɵeld"](0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["Toggle navigation"])),(n()(),c["ɵted"](null,["\n        "])),(n()(),c["ɵeld"](0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n        "])),(n()(),c["ɵeld"](0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n        "])),(n()(),c["ɵeld"](0,null,null,0,"span",[["class","icon-bar"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,3,"a",[["class","navbar-brand"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==c["ɵnov"](n,19).onClick(e.button,e.ctrlKey,e.metaKey)&&t}return t},null,null)),c["ɵdid"](335872,null,0,d.A,[d.j,d.v,p.LocationStrategy],{routerLink:[0,"routerLink"]},null),c["ɵpad"](1),(n()(),c["ɵted"](null,["Voting App"])),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵeld"](0,null,null,16,"div",[["class","collapse navbar-collapse"],["id","navbar"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵeld"](0,null,null,13,"ul",[["class","nav navbar-nav navbar-right"]],null,null,null,null,null)),(n()(),c["ɵted"](null,["\n        "])),(n()(),c["ɵand"](8388608,null,null,1,null,t)),c["ɵdid"](8192,null,0,p.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n\n        "])),(n()(),c["ɵand"](8388608,null,null,1,null,u)),c["ɵdid"](8192,null,0,p.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n        "])),(n()(),c["ɵand"](8388608,null,null,1,null,o)),c["ɵdid"](8192,null,0,p.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n        "])),(n()(),c["ɵand"](8388608,null,null,1,null,i)),c["ɵdid"](8192,null,0,p.NgIf,[c.ViewContainerRef,c.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),c["ɵted"](null,["\n      "])),(n()(),c["ɵted"](null,["\n    "])),(n()(),c["ɵted"](null,["\n  "])),(n()(),c["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,19,0,n(l,20,0,"/")),n(l,29,0,e.authService.loggedIn()),n(l,32,0,!e.authService.loggedIn()),n(l,35,0,e.authService.loggedIn()),n(l,38,0,!e.authService.loggedIn())},function(n,l){n(l,18,0,c["ɵnov"](l,19).target,c["ɵnov"](l,19).href)})}function a(n){return c["ɵvid"](0,[(n()(),c["ɵeld"](0,null,null,1,"app-navbar",[],null,null,null,r,v)),c["ɵdid"](57344,null,0,_.a,[f.a,d.j,h.FlashMessagesService],null,null)],function(n,l){n(l,1,0)},null)}var s=e("601y"),c=e("3j3K"),d=e("5oXY"),p=e("2Je8"),_=e("AG92"),f=e("7fwu"),h=e("k36z");e.n(h);e.d(l,"b",function(){return v}),l.a=r;var g=[s.a],v=c["ɵcrt"]({encapsulation:0,styles:g,data:{}});c["ɵccf"]("app-navbar",_.a,a,{},{},[])},jJS9:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=["input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{float:right;margin-left:10px}input[type=text][_ngcontent-%COMP%]{margin-bottom:5px}"]},kZql:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t={production:!0}},kke6:function(n,l,e){"use strict";var t=e("3j3K"),u=e("Iksp"),o=e("2Je8"),i=e("5oXY"),r=e("Qbdm"),a=e("NVOs"),s=e("Fzro"),c=e("e9U/"),d=(e.n(c),e("GRaa")),p=(e.n(d),e("Rk9l")),_=e("QNV0"),f=e("k36z"),h=(e.n(f),e("Eplh")),g=e("7fwu"),v=e("ZHLX"),m=e("Evht"),b=e("sP+a"),y=e("q2sX"),C=e("twnb"),P=e("obBl"),S=e("HTw2"),R=e("S22J"),M=e("1A80"),O=e("1HDE"),w=e("ZrT/"),I=e("s6ZV"),k=e("ZZ6M"),A=e("VxBC"),T=e("umaX"),L=e("QaYp");e.d(l,"a",function(){return N});var E=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var e in l)l.hasOwnProperty(e)&&(n[e]=l[e])};return function(l,e){function t(){this.constructor=l}n(l,e),l.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),j=function(n){function l(l){return n.call(this,l,[b.a,y.a,C.a,P.a,S.a,R.a,M.a],[M.a])||this}return E(l,n),Object.defineProperty(l.prototype,"_LOCALE_ID_29",{get:function(){return null==this.__LOCALE_ID_29&&(this.__LOCALE_ID_29=t["ɵn"](this.parent.get(t.LOCALE_ID,null))),this.__LOCALE_ID_29},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_NgLocalization_30",{get:function(){return null==this.__NgLocalization_30&&(this.__NgLocalization_30=new o.NgLocaleLocalization(this._LOCALE_ID_29)),this.__NgLocalization_30},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_APP_ID_31",{get:function(){return null==this.__APP_ID_31&&(this.__APP_ID_31=t["ɵg"]()),this.__APP_ID_31},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_IterableDiffers_32",{get:function(){return null==this.__IterableDiffers_32&&(this.__IterableDiffers_32=t["ɵl"]()),this.__IterableDiffers_32},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_KeyValueDiffers_33",{get:function(){return null==this.__KeyValueDiffers_33&&(this.__KeyValueDiffers_33=t["ɵm"]()),this.__KeyValueDiffers_33},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_DomSanitizer_34",{get:function(){return null==this.__DomSanitizer_34&&(this.__DomSanitizer_34=new r.b(this.parent.get(r.c))),this.__DomSanitizer_34},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Sanitizer_35",{get:function(){return null==this.__Sanitizer_35&&(this.__Sanitizer_35=this._DomSanitizer_34),this.__Sanitizer_35},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_HAMMER_GESTURE_CONFIG_36",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_36&&(this.__HAMMER_GESTURE_CONFIG_36=new r.d),this.__HAMMER_GESTURE_CONFIG_36},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_EVENT_MANAGER_PLUGINS_37",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_37&&(this.__EVENT_MANAGER_PLUGINS_37=[new r.e(this.parent.get(r.c)),new r.f(this.parent.get(r.c)),new r.g(this.parent.get(r.c),this._HAMMER_GESTURE_CONFIG_36)]),this.__EVENT_MANAGER_PLUGINS_37},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_EventManager_38",{get:function(){return null==this.__EventManager_38&&(this.__EventManager_38=new r.h(this._EVENT_MANAGER_PLUGINS_37,this.parent.get(t.NgZone))),this.__EventManager_38},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵDomSharedStylesHost_39",{get:function(){return null==this.__ɵDomSharedStylesHost_39&&(this.__ɵDomSharedStylesHost_39=new r.i(this.parent.get(r.c))),this.__ɵDomSharedStylesHost_39},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵDomRendererFactory2_40",{get:function(){return null==this.__ɵDomRendererFactory2_40&&(this.__ɵDomRendererFactory2_40=new r.j(this._EventManager_38,this._ɵDomSharedStylesHost_39)),this.__ɵDomRendererFactory2_40},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_RendererFactory2_41",{get:function(){return null==this.__RendererFactory2_41&&(this.__RendererFactory2_41=this._ɵDomRendererFactory2_40),this.__RendererFactory2_41},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵSharedStylesHost_42",{get:function(){return null==this.__ɵSharedStylesHost_42&&(this.__ɵSharedStylesHost_42=this._ɵDomSharedStylesHost_39),this.__ɵSharedStylesHost_42},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Testability_43",{get:function(){return null==this.__Testability_43&&(this.__Testability_43=new t.Testability(this.parent.get(t.NgZone))),this.__Testability_43},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Meta_44",{get:function(){return null==this.__Meta_44&&(this.__Meta_44=new r.k(this.parent.get(r.c))),this.__Meta_44},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Title_45",{get:function(){return null==this.__Title_45&&(this.__Title_45=new r.l(this.parent.get(r.c))),this.__Title_45},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵi_46",{get:function(){return null==this.__ɵi_46&&(this.__ɵi_46=new a.a),this.__ɵi_46},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_BrowserXhr_47",{get:function(){return null==this.__BrowserXhr_47&&(this.__BrowserXhr_47=new s.BrowserXhr),this.__BrowserXhr_47},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ResponseOptions_48",{get:function(){return null==this.__ResponseOptions_48&&(this.__ResponseOptions_48=new s.BaseResponseOptions),this.__ResponseOptions_48},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_XSRFStrategy_49",{get:function(){return null==this.__XSRFStrategy_49&&(this.__XSRFStrategy_49=s["ɵb"]()),this.__XSRFStrategy_49},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_XHRBackend_50",{get:function(){return null==this.__XHRBackend_50&&(this.__XHRBackend_50=new s.XHRBackend(this._BrowserXhr_47,this._ResponseOptions_48,this._XSRFStrategy_49)),this.__XHRBackend_50},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_RequestOptions_51",{get:function(){return null==this.__RequestOptions_51&&(this.__RequestOptions_51=new s.BaseRequestOptions),this.__RequestOptions_51},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_Http_52",{get:function(){return null==this.__Http_52&&(this.__Http_52=s["ɵc"](this._XHRBackend_50,this._RequestOptions_51)),this.__Http_52},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_FlashMessagesService_53",{get:function(){return null==this.__FlashMessagesService_53&&(this.__FlashMessagesService_53=new f.FlashMessagesService),this.__FlashMessagesService_53},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_WINDOW_54",{get:function(){return null==this.__WINDOW_54&&(this.__WINDOW_54=p.a()),this.__WINDOW_54},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ClipboardService_55",{get:function(){return null==this.__ClipboardService_55&&(this.__ClipboardService_55=O.a(this.parent.get(r.c),this._WINDOW_54,this.parent.get(O.b,null))),this.__ClipboardService_55},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ActivatedRoute_56",{get:function(){return null==this.__ActivatedRoute_56&&(this.__ActivatedRoute_56=i.a(this._Router_22)),this.__ActivatedRoute_56},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_NoPreloading_57",{get:function(){return null==this.__NoPreloading_57&&(this.__NoPreloading_57=new i.b),this.__NoPreloading_57},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_PreloadingStrategy_58",{get:function(){return null==this.__PreloadingStrategy_58&&(this.__PreloadingStrategy_58=this._NoPreloading_57),this.__PreloadingStrategy_58},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_RouterPreloader_59",{get:function(){return null==this.__RouterPreloader_59&&(this.__RouterPreloader_59=new i.c(this._Router_22,this._NgModuleFactoryLoader_20,this._Compiler_19,this,this._PreloadingStrategy_58)),this.__RouterPreloader_59},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_PreloadAllModules_60",{get:function(){return null==this.__PreloadAllModules_60&&(this.__PreloadAllModules_60=new i.d),this.__PreloadAllModules_60},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ROUTER_INITIALIZER_61",{get:function(){return null==this.__ROUTER_INITIALIZER_61&&(this.__ROUTER_INITIALIZER_61=i.e(this._ɵg_3)),this.__ROUTER_INITIALIZER_61},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_APP_BOOTSTRAP_LISTENER_62",{get:function(){return null==this.__APP_BOOTSTRAP_LISTENER_62&&(this.__APP_BOOTSTRAP_LISTENER_62=[this._ROUTER_INITIALIZER_61]),this.__APP_BOOTSTRAP_LISTENER_62},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ValidateService_63",{get:function(){return null==this.__ValidateService_63&&(this.__ValidateService_63=new h.a),this.__ValidateService_63},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_AuthService_64",{get:function(){return null==this.__AuthService_64&&(this.__AuthService_64=new g.a(this._Http_52)),this.__AuthService_64},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_PollService_65",{get:function(){return null==this.__PollService_65&&(this.__PollService_65=new v.a(this._Http_52,this._FlashMessagesService_53)),this.__PollService_65},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_AuthGuard_66",{get:function(){return null==this.__AuthGuard_66&&(this.__AuthGuard_66=new m.a(this._AuthService_64,this._Router_22)),this.__AuthGuard_66},enumerable:!0,configurable:!0}),l.prototype.createInternal=function(){return this._CommonModule_0=new o.CommonModule,this._ErrorHandler_1=r.m(),this._NgProbeToken_2=[i.f()],this._ɵg_3=new i.g(this),this._APP_INITIALIZER_4=[t["ɵo"],r.n(this.parent.get(r.o,null),this._NgProbeToken_2),i.h(this._ɵg_3)],this._ApplicationInitStatus_5=new t.ApplicationInitStatus(this._APP_INITIALIZER_4),this._ɵf_6=new t["ɵf"](this.parent.get(t.NgZone),this.parent.get(t["ɵConsole"]),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_5),this._ApplicationRef_7=this._ɵf_6,this._ApplicationModule_8=new t.ApplicationModule(this._ApplicationRef_7),this._BrowserModule_9=new r.p(this.parent.get(r.p,null)),this._ɵba_10=new a.b,this._FormsModule_11=new a.c,this._HttpModule_12=new s.HttpModule,this._ɵa_13=i.i(this.parent.get(i.j,null)),this._UrlSerializer_14=new i.k,this._RouterOutletMap_15=new i.l,this._ROUTER_CONFIGURATION_16={},this._LocationStrategy_17=i.m(this.parent.get(o.PlatformLocation),this.parent.get(o.APP_BASE_HREF,null),this._ROUTER_CONFIGURATION_16),this._Location_18=new o.Location(this._LocationStrategy_17),this._Compiler_19=new t.Compiler,this._NgModuleFactoryLoader_20=new t.SystemJsNgModuleLoader(this._Compiler_19,this.parent.get(t.SystemJsNgModuleLoaderConfig,null)),this._ROUTES_21=[[{path:"",component:w.a},{path:"register",component:I.a},{path:"login",component:k.a},{path:"mypolls",component:A.a,canActivate:[m.a]},{path:"poll/:id",component:T.a},{path:"new-poll",component:L.a},{path:"**",component:w.a}]],this._Router_22=i.n(this._ApplicationRef_7,this._UrlSerializer_14,this._RouterOutletMap_15,this._Location_18,this,this._NgModuleFactoryLoader_20,this._Compiler_19,this._ROUTES_21,this._ROUTER_CONFIGURATION_16,this.parent.get(i.o,null),this.parent.get(i.p,null)),this._RouterModule_23=new i.q(this._ɵa_13,this._Router_22),this._FlashMessagesModule_24=new c.FlashMessagesModule,this._ChartsModule_25=new d.ChartsModule,this._WindowTokenModule_26=new p.b,this._ClipboardModule_27=new _.a,this._AppModule_28=new u.a,this._AppModule_28},l.prototype.getInternal=function(n,l){return n===o.CommonModule?this._CommonModule_0:n===t.ErrorHandler?this._ErrorHandler_1:n===t.NgProbeToken?this._NgProbeToken_2:n===i.g?this._ɵg_3:n===t.APP_INITIALIZER?this._APP_INITIALIZER_4:n===t.ApplicationInitStatus?this._ApplicationInitStatus_5:n===t["ɵf"]?this._ɵf_6:n===t.ApplicationRef?this._ApplicationRef_7:n===t.ApplicationModule?this._ApplicationModule_8:n===r.p?this._BrowserModule_9:n===a.b?this._ɵba_10:n===a.c?this._FormsModule_11:n===s.HttpModule?this._HttpModule_12:n===i.r?this._ɵa_13:n===i.s?this._UrlSerializer_14:n===i.l?this._RouterOutletMap_15:n===i.t?this._ROUTER_CONFIGURATION_16:n===o.LocationStrategy?this._LocationStrategy_17:n===o.Location?this._Location_18:n===t.Compiler?this._Compiler_19:n===t.NgModuleFactoryLoader?this._NgModuleFactoryLoader_20:n===i.u?this._ROUTES_21:n===i.j?this._Router_22:n===i.q?this._RouterModule_23:n===c.FlashMessagesModule?this._FlashMessagesModule_24:n===d.ChartsModule?this._ChartsModule_25:n===p.b?this._WindowTokenModule_26:n===_.a?this._ClipboardModule_27:n===u.a?this._AppModule_28:n===t.LOCALE_ID?this._LOCALE_ID_29:n===o.NgLocalization?this._NgLocalization_30:n===t.APP_ID?this._APP_ID_31:n===t.IterableDiffers?this._IterableDiffers_32:n===t.KeyValueDiffers?this._KeyValueDiffers_33:n===r.q?this._DomSanitizer_34:n===t.Sanitizer?this._Sanitizer_35:n===r.r?this._HAMMER_GESTURE_CONFIG_36:n===r.s?this._EVENT_MANAGER_PLUGINS_37:n===r.h?this._EventManager_38:n===r.i?this._ɵDomSharedStylesHost_39:n===r.j?this._ɵDomRendererFactory2_40:n===t.RendererFactory2?this._RendererFactory2_41:n===r.t?this._ɵSharedStylesHost_42:n===t.Testability?this._Testability_43:n===r.k?this._Meta_44:n===r.l?this._Title_45:n===a.a?this._ɵi_46:n===s.BrowserXhr?this._BrowserXhr_47:n===s.ResponseOptions?this._ResponseOptions_48:n===s.XSRFStrategy?this._XSRFStrategy_49:n===s.XHRBackend?this._XHRBackend_50:n===s.RequestOptions?this._RequestOptions_51:n===s.Http?this._Http_52:n===f.FlashMessagesService?this._FlashMessagesService_53:n===p.c?this._WINDOW_54:n===O.b?this._ClipboardService_55:n===i.v?this._ActivatedRoute_56:n===i.b?this._NoPreloading_57:n===i.w?this._PreloadingStrategy_58:n===i.c?this._RouterPreloader_59:n===i.d?this._PreloadAllModules_60:n===i.x?this._ROUTER_INITIALIZER_61:n===t.APP_BOOTSTRAP_LISTENER?this._APP_BOOTSTRAP_LISTENER_62:n===h.a?this._ValidateService_63:n===g.a?this._AuthService_64:n===v.a?this._PollService_65:n===m.a?this._AuthGuard_66:l},l.prototype.destroyInternal=function(){this._ɵf_6.ngOnDestroy(),this.__ɵDomSharedStylesHost_39&&this._ɵDomSharedStylesHost_39.ngOnDestroy(),this.__RouterPreloader_59&&this._RouterPreloader_59.ngOnDestroy()},l}(t["ɵNgModuleInjector"]),N=new t.NgModuleFactory(j,u.a)},llLf:function(n,l,e){"use strict";var t=e("3j3K"),u=e("Qbdm"),o=e("ZHLX"),i=e("c8k3");e.n(i);e.d(l,"a",function(){return r});var r=function(){function n(n,l,e){this.pollService=n,this.flashMessage=l,this.document=e,this.showDetails=!1,this.popularChoice={option:"",percentage:1},this.isCopied=!1}return n.prototype.ngOnInit=function(){this.getPopularChoice(),this.pollLink=this.document.location.origin+"/poll/"+this.poll._id},n.prototype.getPopularChoice=function(){console.log(this.poll),this.popularChoice.percentage=Math.round(Math.max.apply(Math,this.poll.votes)/this.poll.votes.reduce(function(n,l){return n+=l})*100),this.popularChoice.option=this.poll.options[this.poll.votes.indexOf(Math.max.apply(Math,this.poll.votes))]},n.prototype.onDeletePoll=function(n){var l=this;confirm("Are you sure you want to delete this poll?")&&this.pollService.deletePoll(this.poll._id).subscribe(function(n){n.success?(l.flashMessage.show("Poll successfully deleted",{cssClass:"alert-success",timeout:3e3}),l.pollService.removePoll(l.poll._id)):l.flashMessage.show("Please try again",{cssClass:"alert-warning",timeout:3e3})})},n.ctorParameters=function(){return[{type:o.a},{type:i.FlashMessagesService},{type:void 0,decorators:[{type:t.Inject,args:[u.c]}]}]},n}()},mUwc:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]},obBl:function(n,l,e){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"app-poll-thumb",[],null,null,null,a.a,a.b)),r["ɵdid"](57344,null,0,s.a,[c.a,d.FlashMessagesService,p.c],{poll:[0,"poll"],showDetails:[1,"showDetails"]},null)],function(n,l){n(l,1,0,l.context.$implicit,!0)},null)}function u(n){return r["ɵvid"](0,[r["ɵpid"](0,_.a,[]),(n()(),r["ɵeld"](0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,9,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["Your polls"])),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,3,"button",[["class","btn btn-success"]],null,[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==r["ɵnov"](n,9).onClick()&&t}return t},null,null)),r["ɵdid"](8192,null,0,f.B,[f.j,f.v,[8,null],r.Renderer,r.ElementRef],{routerLink:[0,"routerLink"]},null),r["ɵpad"](1),(n()(),r["ɵted"](null,["New poll"])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n\n"])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵeld"](0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵand"](8388608,null,null,2,null,t)),r["ɵdid"](401408,null,0,h.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),r["ɵppd"](2),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,9,0,n(l,10,0,"/new-poll")),n(l,19,0,r["ɵunv"](l,19,0,n(l,20,0,r["ɵnov"](l,0),e.pollService.polls,e.authService.user.username)))},null)}function o(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"app-my-polls",[],null,null,null,u,b)),r["ɵdid"](57344,null,0,g.a,[c.a,v.a],null,null)],function(n,l){n(l,1,0)},null)}var i=e("TzDL"),r=e("3j3K"),a=e("LkmL"),s=e("llLf"),c=e("ZHLX"),d=e("k36z"),p=(e.n(d),e("Qbdm")),_=e("tq0J"),f=e("5oXY"),h=e("2Je8"),g=e("VxBC"),v=e("7fwu");e.d(l,"a",function(){return y});var m=[i.a],b=r["ɵcrt"]({encapsulation:0,styles:m,data:{}}),y=r["ɵccf"]("app-my-polls",g.a,o,{},{},[])},q2sX:function(n,l,e){"use strict";function t(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"h2",[["class","page-header"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["Register"])),(n()(),i["ɵted"](null,["\n"])),(n()(),i["ɵeld"](0,null,null,59,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0,u=n.component;if("submit"===l){t=!1!==i["ɵnov"](n,5).onSubmit(e)&&t}if("reset"===l){t=!1!==i["ɵnov"](n,5).onReset()&&t}if("submit"===l){t=!1!==u.onRegisterSubmit()&&t}return t},null,null)),i["ɵdid"](8192,null,0,a.d,[],null,null),i["ɵdid"](8192,null,0,a.e,[[8,null],[8,null]],null,null),i["ɵprd"](1024,null,a.f,null,[a.e]),i["ɵdid"](8192,null,0,a.g,[a.f],null,null),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,1,"label",[],null,null,null,null,null)),(n()(),i["ɵted"](null,["Name"])),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,5,"input",[["class","form-control"],["name","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==i["ɵnov"](n,15)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==i["ɵnov"](n,15).onTouched()&&t}if("compositionstart"===l){t=!1!==i["ɵnov"](n,15)._compositionStart()&&t}if("compositionend"===l){t=!1!==i["ɵnov"](n,15)._compositionEnd(e.target.value)&&t}if("ngModelChange"===l){t=!1!==(u.name=e)&&t}return t},null,null)),i["ɵdid"](8192,null,0,a.h,[i.Renderer,i.ElementRef,[2,a.i]],null,null),i["ɵprd"](512,null,a.j,function(n){return[n]},[a.h]),i["ɵdid"](335872,null,0,a.k,[[2,a.f],[8,null],[8,null],[2,a.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["ɵprd"](1024,null,a.l,null,[a.k]),i["ɵdid"](8192,null,0,a.m,[a.l],null,null),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,1,"label",[],null,null,null,null,null)),(n()(),i["ɵted"](null,["Username"])),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,5,"input",[["class","form-control"],["name","username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==i["ɵnov"](n,28)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==i["ɵnov"](n,28).onTouched()&&t}if("compositionstart"===l){t=!1!==i["ɵnov"](n,28)._compositionStart()&&t}if("compositionend"===l){t=!1!==i["ɵnov"](n,28)._compositionEnd(e.target.value)&&t}if("ngModelChange"===l){t=!1!==(u.username=e)&&t}return t},null,null)),i["ɵdid"](8192,null,0,a.h,[i.Renderer,i.ElementRef,[2,a.i]],null,null),i["ɵprd"](512,null,a.j,function(n){return[n]},[a.h]),i["ɵdid"](335872,null,0,a.k,[[2,a.f],[8,null],[8,null],[2,a.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["ɵprd"](1024,null,a.l,null,[a.k]),i["ɵdid"](8192,null,0,a.m,[a.l],null,null),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,1,"label",[],null,null,null,null,null)),(n()(),i["ɵted"](null,["Email"])),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,5,"input",[["class","form-control"],["name","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==i["ɵnov"](n,41)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==i["ɵnov"](n,41).onTouched()&&t}if("compositionstart"===l){t=!1!==i["ɵnov"](n,41)._compositionStart()&&t}if("compositionend"===l){t=!1!==i["ɵnov"](n,41)._compositionEnd(e.target.value)&&t}if("ngModelChange"===l){t=!1!==(u.email=e)&&t}return t},null,null)),i["ɵdid"](8192,null,0,a.h,[i.Renderer,i.ElementRef,[2,a.i]],null,null),i["ɵprd"](512,null,a.j,function(n){return[n]},[a.h]),i["ɵdid"](335872,null,0,a.k,[[2,a.f],[8,null],[8,null],[2,a.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["ɵprd"](1024,null,a.l,null,[a.k]),i["ɵdid"](8192,null,0,a.m,[a.l],null,null),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,1,"label",[],null,null,null,null,null)),(n()(),i["ɵted"](null,["Password"])),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,5,"input",[["class","form-control"],["name","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==i["ɵnov"](n,54)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==i["ɵnov"](n,54).onTouched()&&t}if("compositionstart"===l){t=!1!==i["ɵnov"](n,54)._compositionStart()&&t}if("compositionend"===l){t=!1!==i["ɵnov"](n,54)._compositionEnd(e.target.value)&&t}if("ngModelChange"===l){t=!1!==(u.password=e)&&t}return t},null,null)),i["ɵdid"](8192,null,0,a.h,[i.Renderer,i.ElementRef,[2,a.i]],null,null),i["ɵprd"](512,null,a.j,function(n){return[n]},[a.h]),i["ɵdid"](335872,null,0,a.k,[[2,a.f],[8,null],[8,null],[2,a.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["ɵprd"](1024,null,a.l,null,[a.k]),i["ɵdid"](8192,null,0,a.m,[a.l],null,null),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](0,null,null,0,"input",[["class","btn btn-primary"],["type","submit"],["value","Submit"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,17,0,"name",e.name),n(l,30,0,"username",e.username),n(l,43,0,"email",e.email),n(l,56,0,"password",e.password)},function(n,l){n(l,3,0,i["ɵnov"](l,7).ngClassUntouched,i["ɵnov"](l,7).ngClassTouched,i["ɵnov"](l,7).ngClassPristine,i["ɵnov"](l,7).ngClassDirty,i["ɵnov"](l,7).ngClassValid,i["ɵnov"](l,7).ngClassInvalid,i["ɵnov"](l,7).ngClassPending),n(l,14,0,i["ɵnov"](l,19).ngClassUntouched,i["ɵnov"](l,19).ngClassTouched,i["ɵnov"](l,19).ngClassPristine,i["ɵnov"](l,19).ngClassDirty,i["ɵnov"](l,19).ngClassValid,i["ɵnov"](l,19).ngClassInvalid,i["ɵnov"](l,19).ngClassPending),n(l,27,0,i["ɵnov"](l,32).ngClassUntouched,i["ɵnov"](l,32).ngClassTouched,i["ɵnov"](l,32).ngClassPristine,i["ɵnov"](l,32).ngClassDirty,i["ɵnov"](l,32).ngClassValid,i["ɵnov"](l,32).ngClassInvalid,i["ɵnov"](l,32).ngClassPending),n(l,40,0,i["ɵnov"](l,45).ngClassUntouched,i["ɵnov"](l,45).ngClassTouched,i["ɵnov"](l,45).ngClassPristine,i["ɵnov"](l,45).ngClassDirty,i["ɵnov"](l,45).ngClassValid,i["ɵnov"](l,45).ngClassInvalid,i["ɵnov"](l,45).ngClassPending),n(l,53,0,i["ɵnov"](l,58).ngClassUntouched,i["ɵnov"](l,58).ngClassTouched,i["ɵnov"](l,58).ngClassPristine,i["ɵnov"](l,58).ngClassDirty,i["ɵnov"](l,58).ngClassValid,i["ɵnov"](l,58).ngClassInvalid,i["ɵnov"](l,58).ngClassPending)})}function u(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"app-register",[],null,null,null,t,f)),i["ɵdid"](57344,null,0,r.a,[s.a,c.FlashMessagesService,d.a,p.j],null,null)],function(n,l){n(l,1,0)},null)}var o=e("zGIT"),i=e("3j3K"),r=e("s6ZV"),a=e("NVOs"),s=e("Eplh"),c=e("k36z"),d=(e.n(c),e("7fwu")),p=e("5oXY");e.d(l,"a",function(){return h});var _=[o.a],f=i["ɵcrt"]({encapsulation:0,styles:_,data:{}}),h=i["ɵccf"]("app-register",r.a,u,{},{},[])},qKaq:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[".header[_ngcontent-%COMP%]{background:#18bc9c;margin-bottom:40px}.header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;font-weight:700}canvas[_ngcontent-%COMP%]{max-width:300px;margin:auto}.btn-option[_ngcontent-%COMP%]{margin:4px 5px}.option-container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.add-option-container[_ngcontent-%COMP%]{padding:20px}#optionInput[_ngcontent-%COMP%]{width:calc(100% - 60px);float:left;display:none;border:1px solid #ccc;border-radius:3px;padding:10px}.add-option-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;position:relative;top:-5px}"]},s6ZV:function(n,l,e){"use strict";var t=e("Eplh"),u=e("7fwu"),o=e("c8k3"),i=(e.n(o),e("5oXY"));e.d(l,"a",function(){return r});var r=function(){function n(n,l,e,t){this.validateService=n,this.flashMessage=l,this.authService=e,this.router=t}return n.prototype.ngOnInit=function(){},n.prototype.onRegisterSubmit=function(){var n=this,l={name:this.name,email:this.email,username:this.username,password:this.password};return this.validateService.validateRegister(l)?this.validateService.validateEmail(l.email)?void this.authService.registerUser(l).subscribe(function(l){l.success?(n.flashMessage.show("You are now registered and can log in",{cssClass:"alert-success",timeout:3e3}),n.router.navigate(["/login"])):(n.flashMessage.show(l.msg,{cssClass:"alert-danger",timeout:3e3}),n.router.navigate(["/register"]))}):(this.flashMessage.show("Please use a valid email",{cssClass:"alert-danger",timeout:3e3}),!1):(this.flashMessage.show("Please fill in all fields",{cssClass:"alert-danger",timeout:3e3}),!1)},n.ctorParameters=function(){return[{type:t.a},{type:o.FlashMessagesService},{type:u.a},{type:i.j}]},n}()},"sP+a":function(n,l,e){"use strict";function t(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,20,"div",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["Voting App"])),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵeld"](0,null,null,1,"p",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["A simple voting app made as part of the freeCodeCamp curriculum"])),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵeld"](0,null,null,11,"div",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵeld"](0,null,null,3,"a",[["class","btn btn-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==s["ɵnov"](n,11).onClick(e.button,e.ctrlKey,e.metaKey)&&t}return t},null,null)),s["ɵdid"](335872,null,0,c.A,[c.j,c.v,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),s["ɵpad"](1),(n()(),s["ɵted"](null,["Register"])),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵeld"](0,null,null,3,"a",[["class","btn btn-default"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==s["ɵnov"](n,16).onClick(e.button,e.ctrlKey,e.metaKey)&&t}return t},null,null)),s["ɵdid"](335872,null,0,c.A,[c.j,c.v,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),s["ɵpad"](1),(n()(),s["ɵted"](null,["Login"])),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵted"](null,["\n  "]))],function(n,l){n(l,11,0,n(l,12,0,"/register")),n(l,16,0,n(l,17,0,"/login"))},function(n,l){n(l,10,0,s["ɵnov"](l,11).target,s["ɵnov"](l,11).href),n(l,15,0,s["ɵnov"](l,16).target,s["ɵnov"](l,16).href)})}function u(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,9,"div",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵeld"](0,null,null,6,"p",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n      Welcome back, you can manage your own polls on the "])),(n()(),s["ɵeld"](0,null,null,3,"a",[["class","btn btn-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,e){var t=!0;if("click"===l){t=!1!==s["ɵnov"](n,5).onClick(e.button,e.ctrlKey,e.metaKey)&&t}return t},null,null)),s["ɵdid"](335872,null,0,c.A,[c.j,c.v,d.LocationStrategy],{routerLink:[0,"routerLink"]},null),s["ɵpad"](1),(n()(),s["ɵted"](null,["My Polls"])),(n()(),s["ɵted"](null,[" page.\n    "])),(n()(),s["ɵted"](null,["\n  "]))],function(n,l){n(l,5,0,n(l,6,0,"/mypolls"))},function(n,l){n(l,4,0,s["ɵnov"](l,5).target,s["ɵnov"](l,5).href)})}function o(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,1,"app-poll-thumb",[],null,null,null,p.a,p.b)),s["ɵdid"](57344,null,0,_.a,[f.a,h.FlashMessagesService,g.c],{poll:[0,"poll"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function i(n){return s["ɵvid"](0,[(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵeld"](0,null,null,7,"div",[["class","jumbotron text-center"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵand"](8388608,null,null,1,null,t)),s["ɵdid"](8192,null,0,d.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["ɵted"](null,["\n  \n  "])),(n()(),s["ɵand"](8388608,null,null,1,null,u)),s["ɵdid"](8192,null,0,d.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵted"](null,["\n\n"])),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵeld"](0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵand"](8388608,null,null,1,null,o)),s["ɵdid"](401408,null,0,d.NgForOf,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,4,0,!e.authService.loggedIn()),n(l,7,0,e.authService.loggedIn()),n(l,14,0,e.pollService.polls)},null)}function r(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,1,"app-home",[],null,null,null,i,y)),s["ɵdid"](57344,null,0,v.a,[f.a,m.a],null,null)],function(n,l){n(l,1,0)},null)}var a=e("mUwc"),s=e("3j3K"),c=e("5oXY"),d=e("2Je8"),p=e("LkmL"),_=e("llLf"),f=e("ZHLX"),h=e("k36z"),g=(e.n(h),e("Qbdm")),v=e("ZrT/"),m=e("7fwu");e.d(l,"a",function(){return C});var b=[a.a],y=s["ɵcrt"]({encapsulation:0,styles:b,data:{}}),C=s["ɵccf"]("app-home",v.a,r,{},{},[])},tq0J:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){function n(){}return n.prototype.transform=function(n,l){return n.filter(function(n,e){return n.created_by==l})},n}()},twnb:function(n,l,e){"use strict";function t(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"h2",[["class","page-header"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["Login"])),(n()(),i["ɵted"](null,["\n"])),(n()(),i["ɵeld"](0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var t=!0,u=n.component;if("submit"===l){t=!1!==i["ɵnov"](n,5).onSubmit(e)&&t}if("reset"===l){t=!1!==i["ɵnov"](n,5).onReset()&&t}if("submit"===l){t=!1!==u.onLoginSubmit()&&t}return t},null,null)),i["ɵdid"](8192,null,0,a.d,[],null,null),i["ɵdid"](8192,null,0,a.e,[[8,null],[8,null]],null,null),i["ɵprd"](1024,null,a.f,null,[a.e]),i["ɵdid"](8192,null,0,a.g,[a.f],null,null),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,1,"label",[],null,null,null,null,null)),(n()(),i["ɵted"](null,["Username"])),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,5,"input",[["class","form-control"],["name","username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==i["ɵnov"](n,15)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==i["ɵnov"](n,15).onTouched()&&t}if("compositionstart"===l){t=!1!==i["ɵnov"](n,15)._compositionStart()&&t}if("compositionend"===l){t=!1!==i["ɵnov"](n,15)._compositionEnd(e.target.value)&&t}if("ngModelChange"===l){t=!1!==(u.username=e)&&t}return t},null,null)),i["ɵdid"](8192,null,0,a.h,[i.Renderer,i.ElementRef,[2,a.i]],null,null),i["ɵprd"](512,null,a.j,function(n){return[n]},[a.h]),i["ɵdid"](335872,null,0,a.k,[[2,a.f],[8,null],[8,null],[2,a.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["ɵprd"](1024,null,a.l,null,[a.k]),i["ɵdid"](8192,null,0,a.m,[a.l],null,null),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,1,"label",[],null,null,null,null,null)),(n()(),i["ɵted"](null,["Password"])),(n()(),i["ɵted"](null,["\n    "])),(n()(),i["ɵeld"](0,null,null,5,"input",[["class","form-control"],["name","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var t=!0,u=n.component;if("input"===l){t=!1!==i["ɵnov"](n,28)._handleInput(e.target.value)&&t}if("blur"===l){t=!1!==i["ɵnov"](n,28).onTouched()&&t}if("compositionstart"===l){t=!1!==i["ɵnov"](n,28)._compositionStart()&&t}if("compositionend"===l){t=!1!==i["ɵnov"](n,28)._compositionEnd(e.target.value)&&t}if("ngModelChange"===l){t=!1!==(u.password=e)&&t}return t},null,null)),i["ɵdid"](8192,null,0,a.h,[i.Renderer,i.ElementRef,[2,a.i]],null,null),i["ɵprd"](512,null,a.j,function(n){return[n]},[a.h]),i["ɵdid"](335872,null,0,a.k,[[2,a.f],[8,null],[8,null],[2,a.j]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),i["ɵprd"](1024,null,a.l,null,[a.k]),i["ɵdid"](8192,null,0,a.m,[a.l],null,null),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵted"](null,["\n  "])),(n()(),i["ɵeld"](0,null,null,0,"input",[["class","btn btn-primary"],["type","submit"],["value","Login"]],null,null,null,null,null)),(n()(),i["ɵted"](null,["\n"]))],function(n,l){var e=l.component;n(l,17,0,"username",e.username),n(l,30,0,"password",e.password)},function(n,l){n(l,3,0,i["ɵnov"](l,7).ngClassUntouched,i["ɵnov"](l,7).ngClassTouched,i["ɵnov"](l,7).ngClassPristine,i["ɵnov"](l,7).ngClassDirty,i["ɵnov"](l,7).ngClassValid,i["ɵnov"](l,7).ngClassInvalid,i["ɵnov"](l,7).ngClassPending),n(l,14,0,i["ɵnov"](l,19).ngClassUntouched,i["ɵnov"](l,19).ngClassTouched,i["ɵnov"](l,19).ngClassPristine,i["ɵnov"](l,19).ngClassDirty,i["ɵnov"](l,19).ngClassValid,i["ɵnov"](l,19).ngClassInvalid,i["ɵnov"](l,19).ngClassPending),n(l,27,0,i["ɵnov"](l,32).ngClassUntouched,i["ɵnov"](l,32).ngClassTouched,i["ɵnov"](l,32).ngClassPristine,i["ɵnov"](l,32).ngClassDirty,i["ɵnov"](l,32).ngClassValid,i["ɵnov"](l,32).ngClassInvalid,i["ɵnov"](l,32).ngClassPending)})}function u(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"app-login",[],null,null,null,t,_)),i["ɵdid"](57344,null,0,r.a,[s.a,c.j,d.FlashMessagesService],null,null)],function(n,l){n(l,1,0)},null)}var o=e("UR5G"),i=e("3j3K"),r=e("ZZ6M"),a=e("NVOs"),s=e("7fwu"),c=e("5oXY"),d=e("k36z");e.n(d);e.d(l,"a",function(){return f});var p=[o.a],_=i["ɵcrt"]({encapsulation:0,styles:p,data:{}}),f=i["ɵccf"]("app-login",r.a,u,{},{},[])},umaX:function(n,l,e){"use strict";var t=e("5oXY"),u=e("ZHLX"),o=e("c8k3"),i=(e.n(o),e("7fwu"));e.d(l,"a",function(){return r});var r=function(){function n(n,l,e,t,u){this.route=n,this.router=l,this.flashMessage=e,this.pollService=t,this.authService=u,this.chartData=[],this.chartLabels=[],this.chartOptions={legend:{position:"bottom"}}}return n.prototype.ngOnInit=function(){var n=this;this.sub=this.route.params.subscribe(function(l){if(n.id=l.id,console.log(n.id),void 0===n.id)return n.router.navigate(["/"]),!1;n.getPoll()})},n.prototype.onAddOption=function(n,l){var e=this;if("+"==l.innerHTML){var t=n.value;t&&(this.pollService.addOption(this.poll._id,t).subscribe(function(n){n.success&&(e.poll.votes.push(0),e.poll.options.push(t),e.chartLabels=e.poll.options,e.chartData=e.poll.votes)}),l.innerHTML="Add option",n.value="",n.style.display="none")}else l.innerHTML="+",n.style.display="block"},n.prototype.getPoll=function(){var n=this;this.pollService.getPoll(this.id).then(function(l){n.poll=l,n.chartLabels=l.options,n.chartData=l.votes},function(l){n.router.navigate(["/"]),n.flashMessage.show("Poll not found",{cssClass:"alert-danger",timeout:3e3})})},n.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},n.prototype.chartHovered=function(n){},n.prototype.onVote=function(n){var l=this;console.log(this.id),this.pollService.submitVote(this.id,n,function(){l.getPoll()})},n.ctorParameters=function(){return[{type:t.v},{type:t.j},{type:o.FlashMessagesService},{type:u.a},{type:i.a}]},n}()},x35b:function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=e("3j3K"),u=e("kZql"),o=e("Qbdm"),i=e("kke6");u.a.production&&e.i(t.enableProdMode)(),e.i(o.a)().bootstrapModuleFactory(i.a)},zGIT:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=[""]}},[0]);